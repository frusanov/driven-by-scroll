/**
   * @license
   * author: Feodor Rusanov <f.rusanov@gmail.com> (https://feodor.me)
   * DrivenByScroll.js v1.0.0-alpha
   * Released under the MIT license.
   */
var DrivenByScroll=function(){"use strict";function t(t){return 0>t?0:1<t?1:t}var i=function(){function i(t,e){this.yTop=0,this.yBottom=0,this.height=0,this.enterPosition=0,this.exitPosition=0,this.actionAreaHeight=0,this.stepPerPixel=0,this.priority=1,this.$element=t,this.callback=e,this.calcBaseSizes(),i.observed.push(this)}return i.start=function(){window.addEventListener("scroll",i.onScroll),window.addEventListener("resize",i.onResize),i.onScroll(),i.onResize()},i.stop=function(){window.removeEventListener("scroll",i.onScroll),window.removeEventListener("resize",i.onResize)},i.destroyAll=function(){i.observed.splice(0,i.observed.length)},i.onResize=function(){500>Date.now()-i.lastResize||(i.lastResize=Date.now(),i.windowHeight=window.innerHeight,i.observed.forEach((function(t){return t.calcBaseSizes()})))},i.onScroll=function(){if(!(1e3/i.maxFPS>Date.now()-i.lastScroll)){i.lastScroll=Date.now(),5===i.currentPriority&&i.onResize();var t=window.pageYOffset,e=document.documentElement.clientTop||document.body.clientTop||0;i.viewPortTopLine=t-e,i.viewPortBottomLine=i.viewPortTopLine+i.windowHeight,i.observed.forEach((function(t){t.scrollHandler()})),i.nextGlobalPriority()}},i.nextGlobalPriority=function(){5>i.currentPriority?i.currentPriority++:i.currentPriority=1},i.prototype.destroy=function(){var t=i.observed.indexOf(this);i.observed.splice(t,1)},i.prototype.calcBaseSizes=function(){var t=this.$element.getBoundingClientRect();this.height=t.height,this.yTop=t.top+i.viewPortTopLine,this.yBottom=this.yTop+this.height,this.enterPosition=this.yTop-i.windowHeight,this.exitPosition=this.yBottom,this.actionAreaHeight=this.exitPosition-this.enterPosition,this.stepPerPixel=1/this.actionAreaHeight},i.prototype.calculateInstancePriority=function(){var t=0;this.yTop>i.viewPortTopLine&&this.yBottom>i.viewPortTopLine?t=(this.yTop-i.viewPortTopLine)/i.windowHeight:this.yBottom<i.viewPortTopLine&&(t=(i.viewPortTopLine-this.yBottom)/i.windowHeight),5<(t=Math.round(t))&&(t=5),this.priority=t},i.prototype.scrollHandler=function(){if(!(this.priority>i.currentPriority)){var e=t((i.viewPortTopLine-this.yBottom+this.actionAreaHeight)/this.actionAreaHeight),o=t((i.viewPortTopLine-this.yBottom+this.height)/(this.height-i.windowHeight));this.callback({instance:this,viewPortTopLine:i.viewPortTopLine,viewPortBottomLine:i.viewPortBottomLine,fromEnterToOut:e,fromEnterToMiddle:t(2*e),fromTopToBottom:o}),this.calculateInstancePriority()}},i.currentPriority=1,i.windowHeight=window.innerHeight,i.viewPortTopLine=window.scrollY,i.viewPortBottomLine=i.viewPortTopLine+i.windowHeight,i.maxFPS=60,i.observed=[],i.lastResize=Date.now(),i.lastScroll=Date.now(),i}();return i.start(),i}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlcyI6WyIuLi9zcmMvdXRpbHMvbm9ybW9saXNlUHJvZ3Jlc3MudHMiLCIuLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOltudWxsLG51bGxdLCJuYW1lcyI6WyJub3Jtb2xpc2VQcm9ncmVzcyIsInZhbHVlIiwiZWxlbWVudCIsImNhbGxiYWNrIiwidGhpcyIsIiRlbGVtZW50IiwiY2FsY0Jhc2VTaXplcyIsIkRyaXZlbkJ5U2Nyb2xsIiwib2JzZXJ2ZWQiLCJwdXNoIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uU2Nyb2xsIiwib25SZXNpemUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3BsaWNlIiwibGVuZ3RoIiwiRGF0ZSIsIm5vdyIsImxhc3RSZXNpemUiLCJ3aW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsImZvckVhY2giLCJpbnN0YW5jZSIsIm1heEZQUyIsImxhc3RTY3JvbGwiLCJjdXJyZW50UHJpb3JpdHkiLCJzY3JvbGxUb3AiLCJwYWdlWU9mZnNldCIsImNsaWVudFRvcCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsInZpZXdQb3J0VG9wTGluZSIsInZpZXdQb3J0Qm90dG9tTGluZSIsInNjcm9sbEhhbmRsZXIiLCJuZXh0R2xvYmFsUHJpb3JpdHkiLCJpbmRleCIsImluZGV4T2YiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwieVRvcCIsInRvcCIsInlCb3R0b20iLCJlbnRlclBvc2l0aW9uIiwiZXhpdFBvc2l0aW9uIiwiYWN0aW9uQXJlYUhlaWdodCIsInN0ZXBQZXJQaXhlbCIsInNjcmVlbnNGcm9tUG9zaXRpb24iLCJNYXRoIiwicm91bmQiLCJwcmlvcml0eSIsInByb2dyZXNzIiwiZnJvbVRvcFRvQm90dG9tIiwiZnJvbUVudGVyVG9PdXQiLCJmcm9tRW50ZXJUb01pZGRsZSIsImNhbGN1bGF0ZUluc3RhbmNlUHJpb3JpdHki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
