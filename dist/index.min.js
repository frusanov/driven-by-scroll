/**
   * @license
   * author: Feodor Rusanov <f.rusanov@gmail.com> (https://feodor.me)
   * DrivenByScroll.js v1.0.0-alpha
   * Released under the MIT license.
   */
var DrivenByScroll=function(){"use strict";function t(t){return 0>t?0:1<t?1:t}var i=function(){function i(t,e){var o;this.top=0,this.bottom=0,this.height=0,this.enterPosition=0,this.exitPosition=0,this.actionAreaHeight=0,this.stepPerPixel=0,this.priority=1,this.$element=t,this.callback=e,this.calcBaseSizes(),this.scrollHandler(),null===(o=i.resizeObserver)||void 0===o||o.observe(this.$element),i.observed.push(this)}return i.prototype.destroy=function(){var t=i.observed.indexOf(this);i.observed.splice(t,1)},i.prototype.calcBaseSizes=function(){var t=this.$element.getBoundingClientRect();this.height=t.height,this.top=Math.round(t.top+i.viewPortTopLine),this.bottom=Math.round(this.top+this.height),this.enterPosition=this.top-i.windowHeight,this.exitPosition=this.bottom,this.actionAreaHeight=this.exitPosition-this.enterPosition,this.stepPerPixel=1/this.actionAreaHeight},i.prototype.calculateInstancePriority=function(){var t=0;this.top>i.viewPortTopLine&&this.bottom>i.viewPortTopLine?t=(this.top-i.viewPortTopLine)/i.windowHeight:this.bottom<i.viewPortTopLine&&(t=(i.viewPortTopLine-this.bottom)/i.windowHeight),5<(t=Math.round(t))&&(t=5),this.priority=t},i.prototype.scrollHandler=function(){if(!(this.priority>i.currentPriority)){var e=t((i.viewPortTopLine-this.bottom+this.actionAreaHeight)/this.actionAreaHeight),o=t((i.viewPortTopLine-this.bottom+this.height)/(this.height-i.windowHeight));this.callback({instance:this,viewPortTopLine:i.viewPortTopLine,viewPortBottomLine:i.viewPortBottomLine,fromEnterToOut:e,fromEnterToMiddle:t(2*e),fromTopToBottom:o}),this.calculateInstancePriority()}},i.start=function(){var t,e,o,n,r;i.resizeObserver=new ResizeObserver((t=i.onResize,void 0===(e=500)&&(e=300),function(){var i=this,s=arguments;o?(clearTimeout(n),n=setTimeout((function(){Date.now()-r>=e&&(t.apply(i,s),r=Date.now())}),Math.max(e-(Date.now()-r),0))):(t.apply(i,s),r=Date.now(),o=!0)})),window.addEventListener("scroll",i.onScroll),i.onScroll(),i.onResize()},i.stop=function(){delete i.resizeObserver,window.removeEventListener("scroll",i.onScroll)},i.destroyAll=function(){i.observed.splice(0,i.observed.length)},i.onResize=function(){i.lastResize=Date.now(),i.windowHeight=Math.round(window.innerHeight),i.observed.forEach((function(t){return t.calcBaseSizes()})),i.onScroll()},i.onScroll=function(){if(!(1e3/i.maxFPS>Date.now()-i.lastScroll)){i.lastScroll=Date.now();var t=Math.round(window.pageYOffset),e=Math.round(document.documentElement.clientTop);i.viewPortTopLine=t-e,i.viewPortBottomLine=i.viewPortTopLine+i.windowHeight,i.observed.forEach((function(t){t.scrollHandler()})),i.nextGlobalPriority()}},i.nextGlobalPriority=function(){5>i.currentPriority?i.currentPriority++:i.currentPriority=1},i.currentPriority=1,i.windowHeight=window.innerHeight,i.viewPortTopLine=window.scrollY,i.viewPortBottomLine=i.viewPortTopLine+i.windowHeight,i.maxFPS=60,i.observed=[],i.lastResize=Date.now(),i.lastScroll=Date.now(),i}();return i.start(),i}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlcyI6WyIuLi9zcmMvdXRpbHMvbm9ybW9saXNlUHJvZ3Jlc3MudHMiLCIuLi9zcmMvdXRpbHMvdGhyb3R0bGUudHMiLCIuLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOltudWxsLG51bGwsbnVsbF0sIm5hbWVzIjpbIm5vcm1vbGlzZVByb2dyZXNzIiwidmFsdWUiLCJlbGVtZW50IiwiY2FsbGJhY2siLCJ0aGlzIiwiJGVsZW1lbnQiLCJjYWxjQmFzZVNpemVzIiwic2Nyb2xsSGFuZGxlciIsIkRyaXZlbkJ5U2Nyb2xsIiwicmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlIiwib2JzZXJ2ZWQiLCJwdXNoIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhlaWdodCIsInRvcCIsIk1hdGgiLCJyb3VuZCIsInZpZXdQb3J0VG9wTGluZSIsImJvdHRvbSIsImVudGVyUG9zaXRpb24iLCJ3aW5kb3dIZWlnaHQiLCJleGl0UG9zaXRpb24iLCJhY3Rpb25BcmVhSGVpZ2h0Iiwic3RlcFBlclBpeGVsIiwic2NyZWVuc0Zyb21Qb3NpdGlvbiIsInByaW9yaXR5IiwiY3VycmVudFByaW9yaXR5IiwicHJvZ3Jlc3MiLCJmcm9tVG9wVG9Cb3R0b20iLCJpbnN0YW5jZSIsInZpZXdQb3J0Qm90dG9tTGluZSIsImZyb21FbnRlclRvT3V0IiwiZnJvbUVudGVyVG9NaWRkbGUiLCJjYWxjdWxhdGVJbnN0YW5jZVByaW9yaXR5IiwiZm4iLCJ3YWl0IiwiaW5UaHJvdHRsZSIsImxhc3RGbiIsImxhc3RUaW1lIiwiUmVzaXplT2JzZXJ2ZXIiLCJvblJlc2l6ZSIsImNvbnRleHQiLCJhcmdzIiwiYXJndW1lbnRzIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIkRhdGUiLCJub3ciLCJhcHBseSIsIm1heCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblNjcm9sbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsZW5ndGgiLCJsYXN0UmVzaXplIiwiaW5uZXJIZWlnaHQiLCJmb3JFYWNoIiwibWF4RlBTIiwibGFzdFNjcm9sbCIsInNjcm9sbFRvcCIsInBhZ2VZT2Zmc2V0IiwiY2xpZW50VG9wIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJuZXh0R2xvYmFsUHJpb3JpdHkiLCJzY3JvbGxZIiwic3RhcnQiXSwibWFwcGluZ3MiOiI7Ozs7OztvREFBd0JBLEVBQWtCQyxHQUN4QyxPQUFJLEVBQUlBLEVBQWMsRUFDbEIsRUFBSUEsRUFBYyxFQUNmQSxFQ0VULGlCQ2lDRSxXQUNFQyxFQUNBQyxTQWJLQyxTQUFNLEVBQ05BLFlBQVMsRUFDVEEsWUFBUyxFQUNUQSxtQkFBZ0IsRUFDaEJBLGtCQUFlLEVBQ2ZBLHNCQUFtQixFQUNuQkEsa0JBQWUsRUFDZkEsY0FBVyxFQVFoQkEsS0FBS0MsU0FBV0gsRUFDaEJFLEtBQUtELFNBQVdBLEVBRWhCQyxLQUFLRSxnQkFDTEYsS0FBS0csMEJBRUxDLEVBQWVDLCtCQUFnQkMsUUFBUU4sS0FBS0MsVUFDNUNHLEVBQWVHLFNBQVNDLEtBQUtSLE1BcUpqQyxPQWxKU0ksb0JBQVAsV0FDRSxJQUFNSyxFQUFRTCxFQUFlRyxTQUFTRyxRQUFRVixNQUM5Q0ksRUFBZUcsU0FBU0ksT0FBT0YsRUFBTyxJQVVqQ0wsMEJBQVAsV0FDRSxJQUFNUSxFQUFPWixLQUFLQyxTQUFTWSx3QkFFM0JiLEtBQUtjLE9BQVNGLEVBQUtFLE9BQ25CZCxLQUFLZSxJQUFNQyxLQUFLQyxNQUFNTCxFQUFLRyxJQUFNWCxFQUFlYyxpQkFDaERsQixLQUFLbUIsT0FBU0gsS0FBS0MsTUFBTWpCLEtBQUtlLElBQU1mLEtBQUtjLFFBRXpDZCxLQUFLb0IsY0FBZ0JwQixLQUFLZSxJQUFNWCxFQUFlaUIsYUFDL0NyQixLQUFLc0IsYUFBZXRCLEtBQUttQixPQUV6Qm5CLEtBQUt1QixpQkFBbUJ2QixLQUFLc0IsYUFBZXRCLEtBQUtvQixjQUNqRHBCLEtBQUt3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
